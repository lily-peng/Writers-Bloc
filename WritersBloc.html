<head>
	<title>Writers-Bloc</title>
</head>

<body>
  <h1>Writer's Bloc (the best game on the internet)</h1>
  {{> goBack}}
	{{> lobby}}
	{{> createGame}}
	{{> joinGame}}
	{{> waitForGame}}
	{{> rules}}
	{{> startGame}}	
  {{> stageOne}}
  {{> stageTwo}}
</body>

<template name="goBack">
    <input type="button" id= "lobby" value = "Go Back to Lobby">
</template>

<template name="lobby">
	{{#if showLobby}}
		<br>
		<input type="button" id = "creategame" value = "Create Game">
		<br>
		<input type="button" id = "joingame" value = "Join Game">
		<br>
		<input type="button" id = "settings" value = "Settings">
	{{/if}}
</template>

<template name="createGame">
	{{#if showCreateGame}}
		<h3>Create a game:</h3>
		<p>Enter your story name:</p>
		<input type="text" id="storyName">
		<br>
		
    <p>Enter number of players (2-10):</p>
		<input type="text" id="numberPlayers">    
		<br>
    
    <p>Enter number of rounds ():</p>
    <input type="text" id="numberRounds">
    <br>

		<p>Enter the first sentence:*</p>
		<input type="text" id="firstSentence">
		<br>
		
    <p>Enter the last sentence:*</p>
		<input type="text" id="lastSentence">
		<br>
		*optional (leave blank for a random sentence)
		<input type="button" id = "creategamenow" value = "Submit">
	{{/if}}
</template>

<template name="joinGame">
	{{#if showJoinGame}}
		<h3>Join a game:</h3>
		{{#each availableGames}}
			<p>{{Title}} ({{PlayerCount}}/{{PlayersPerGame}}) <input id="join" name={{_id}} type="button" value="Join"></p>
		{{/each}}
	{{/if}}
</template>

<template name="waitForGame">
  {{#if showWaitForGame}}
	  {{#with game}}
  		<h2>{{Title}}</h2>
  	{{/with}}
	  <h3>Players Joined:</h3>
	  {{#each players}}
	   	<p>{{Name}}</p>
		{{/each}}
    {{#if isHost}}
      <p><input type="button" id="start" value="Start Game"/></p> 
    {{else}}
      <p><input type="button" value="Start Game" disabled/></p>
    {{/if}}
  {{/if}}
</template>

<template name="rules">
  {{#if showRules}}
    <p><h3>Rules</h3></p>
    <p>The screen will display the first sentence followed by the last sentence of the story.</p>
    <p>Type what you think the next sentence of the story should be. When ready, click Submit.</p>
    <p>Once all players have submitted, the voting period begins.</p>
    <p>The sentence with the most votes will be added to the story... and the process repeats until the story is complete!</p>
    <p>When you're ready, click Start!</p>
    <p><input type="button" id = "startgame" value = "Start"></p>
  {{/if}}
</template>

<template name="startGame">
    {{#if showStartGame}}
        <p></p>
        {{firstSentence}}
        <p>.</p>
        <p>.</p>
        <p>.</p>
        <p>.</p>
        <p>.</p>
        <p>.</p>
        {{lastSentence}}
        {{#if notSubmitted}}
          <p>Submit your Sentence:</p>
          <textarea id="sentence" rows="4" cols="50"></textarea>    
		      <br>
		      <p><input type="button" id = "submitSentence" value = "Submit"></p>
		    {{/if}}
		    {{#if showSubmitted}}
		      Waiting for other players to submit...		      
		    {{/if}}
		    
        
    {{/if}}
</template>

<template name="stageOne">
  {{#if showStageOne}}
    {{#with game}}
      <h3>{{Title}}</h3>
      <p>Round {{CurrentRound}}/{{Rounds}}</p>
      <p>{{FirstSentence}}</p>
      <p>{{LastSentence}}</p>
    {{/with}}
    {{#if canPlay}}
      <p>Submit a sentence!<input type="text" id="sentence" /></p>
      <p><input type="button" id="submit" value="Submit" /></p> 
    {{else}}
      <p>Submitted!</p>
      <p>Waiting for other players...</p> 
    {{/if}}
  {{/if}}
</template>

<template name="stageTwo">
	{{#if showStageTwo}}
    HI!
  {{/if}}
</template>

<template name ="sentences">
  HEREHERHEHREHREHE
  {{#each sentence}}
      TESThaha
      {{Text}}
  {{/each}}
</template>
