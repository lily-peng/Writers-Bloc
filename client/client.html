<head>
  <title>Writer's Bloc</title>
</head>

<body>
  {{loginButtons align="right"}}<br>
  <h1>Writer's Bloc</h1>
  {{> welcome }}
  <div id="lobbybutton">
    {{> lobbybutton }}
  </div>
  <div id="messages">
    {{> messages }}
  </div>
  <div id="input">
    {{> input }}
  </div>
  <div id="back">
    {{> back }}
  </div>
  <div id="lobby">
    {{> lobby }}
  </div>
</body>

<template name="welcome">
  <p>
    Welcome to Writer's Bloc! Please log in.
  </p>
</template>

<template name="lobbybutton">
  {{#if show}}
    <p><input id="btn" type="button" value="Join a Room" />
    </p>
  {{/if}}
</template>

<template name="input">
  {{#if show}}
  <p>Message: <input type="text" id="message"></p>
  {{/if}}
</template>

<template name="messages">
    {{#if show}}
      <div id = "msg" class="msg" style="width: 100%;height: 60vh;overflow: scroll;";>
      <!-- Or have height: 400px; -->
      {{#each messages}}
        <strong>{{name}}:</strong> {{message}}<br>
      {{/each}}
    {{/if}}
  </div>
</template>

<template name="back">
  {{#if show}}
  <p>
    <input id="back" type="button" value="Back to Main Chat"/>
  </p>
  {{/if}}
</template>

<template name="lobby">
  <!--shows when lobbybutton is pressed-->
  {{#if show}}
  <p>
    Lobby implementation here!
    Your username: {{name}} <!--INVESTIGATE WHY THIS DOESN'T WORK-->
    {{#if count}}
      <h1>{{count}} other players are in the lobby:</h1>
      {{#each waiting }}
      <div class="player">{{name}}</div>
      {{/each}}
    {{/if}}
  </p>
  {{/if}}
</template>
